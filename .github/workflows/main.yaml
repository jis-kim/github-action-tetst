name: "My first github action"

# 특정 job은 push에만 돌고 pull에는 돌지 말라고 할 수 있다.
# 하지만 멘토님 개인적으로 추천하지 않음.
on:
  push:
    branches: -main
    tags: -'v*'
  pull_request:
    branches: -main
      -matrix

# api download -> build -> ...
# jdk라던지 npm이라던지 ... 해서 build할 때 까지가 build
# 셋업, 압축.. 등등 해서 release
jobs:
  first-job:
    name: "first job"
    # 세 os에서 동시에 돌아간다. 앗 놓쳤는데 지우시네 ㅎㅎ
    #strategy:
    #  matrix:
    #    os: ["windows-latest", "macos-latest", "ubuntu-latest"]
    #    nodejs: ["14.x", "16.x"]

    runs-on: ubuntu-latest

    # if로 작동 시점을 정할 수 있다.
    # step, job에 걸 수 있다.
    # 특정 task가 mac에서만 돌아가는 경우라던지..에 쓸 수 있다.
    steps:
      - name: output value 1
        shell: bash
        run: |
          echo "Hello World"
      - name: output value 2
        if: github.event_name == 'pull_request'
        shell: bash
        run: |
          echo "Hello World"

  second-job:
    name: "second job"
    needs: first-job

    runs-on: ubuntu-latest

    steps:
      - name: output value
        shell: bash
        run: |
          echo "Hello World"

  third-job:
    name: "third job"
    needs: first-job

    runs-on: ubuntu-latest

    steps:
      - name: output value
        shell: bash
        run: |
          echo "Hello World"
